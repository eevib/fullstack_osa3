{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonFilter.js","components/PersonForm.js","services/persons.js","components/Message.js","components/ErrorMessage.js","App.js","index.js"],"names":["Person","id","name","number","deletePerson","onClick","Persons","persons","pfilter","filter","person","toLowerCase","includes","map","PersonFilter","onChange","value","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","newObject","post","put","delete","Message","message","className","ErrorMessage","errorMessage","App","useState","setPersons","setNewName","setNewNumber","showAll","setShowAll","setMessage","setErrorMessage","useEffect","personService","then","response","data","event","console","log","target","preventDefault","nameObject","pers","find","p","undefined","concat","setTimeout","alert","window","confirm","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a64e7c3b.chunk.js","sourcesContent":["import React from \"react\"\n\n\nconst Person = ({id, name, number, deletePerson}) => { \n    return (\n        <li key={id}>\n        {name} {number} <button onClick={deletePerson}>{'delete'}</button>\n        </li>\n     )}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons , pfilter, deletePerson}) => {\n  return (\n\n      persons\n      .filter(person => person.name.toLowerCase().includes(pfilter.toLowerCase()))\n      .map(person => <Person \n        key={person.id}\n        name={person.name}\n        number={person.number}\n        deletePerson={()=> deletePerson(person)} \n          \n      /> )\n  \n  )\n}\n\nexport default Persons\n","import React from \"react\";\n\nconst PersonFilter = ({ filter, onChange }) => {\n    return ( \n    <div>   \n        filter shown with <input value={filter} onChange={onChange} />\n    </div> \n    )\n}\nexport default PersonFilter ","import React from \"react\";\n\nfunction PersonForm({addName, newName, handleNameChange, newNumber, handleNumberChange}) {\n    return (\n        <form onSubmit={addName}>\n            <div> \n                name: <input \n                value={newName} onChange={handleNameChange} />  </div>\n            <div> number: <input \n                value={newNumber} onChange={handleNumberChange} /> \n            </div> \n            <button type=\"submit\">add</button>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { \n    getAll, create, update, deletePerson\n}","import React from \"react\"\n\nconst Message = ({message}) => {\n    if(message === null) {\n      return null\n    }\n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n  }\n  export default Message","import React from \"react\";\n\nconst ErrorMessage = ({errorMessage}) => {\n    if(errorMessage === null) {\n      return null\n    }\n    return (\n      <div className=\"errorMessage\">\n        {errorMessage}\n      </div>\n    )\n  }\n  export default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonFilter from './components/PersonFilter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Message from './components/Message'\nimport ErrorMessage from './components/ErrorMessage'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showAll, setShowAll ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n      const nameObject= {\n        name: newName,\n        number: newNumber,\n      }\n    const pers = persons.find(p => p.name === newName) \n    if(pers === undefined) {\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage(`Added '${newName}'`)\n        })\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n    } else if (pers.number === newNumber) {\n      alert(`'${newName}' is already added to phonebook`)\n    } else if(pers.name === newName) {\n      if(window.confirm(`'${newName}' is already added to phonebook, do you want to replace the old numer with a new one?`)) {\n        personService\n          .update(pers.id, nameObject)\n          .then(response => {\n            setMessage(`Updated the number of '${newName}'`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Person '${newName}' was already removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.id !== pers.id))\n          })\n      } \n    }\n      setNewNumber('')\n      setNewName('')  \n  }\n\n  const handleDeletePerson = (person) => {\n    console.log(`id: ${person.id} `)\n    if(window.confirm(`Are you sure you want to delete '${person.name}'? `)) {\n      personService\n        .deletePerson(person.id)\n        .then(() => {\n          setPersons(persons.filter(p=> p.id !== person.id))\n          setMessage(`Deleted '${person.name}'`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n    \n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleShowAll = (event) => {\n    console.log(event.target.value)\n    setShowAll(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n     <div><PersonFilter filter={showAll} onChange={handleShowAll} />\n     </div>\n         <h2>Add a new</h2>\n      <Message message={message} />\n      <ErrorMessage errorMessage={errorMessage} />\n      <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <div>\n      <Persons persons={persons} pfilter={showAll} deletePerson={handleDeletePerson}/> \n      </div>\n    </div> \n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}